---
Hackfest Speeds Up Development for Next Generation Onion Services
---
<article class="post-listing post-14366 post type-post status-publish format-standard has-post-thumbnail hentry  tag-development tag-generation tag-hackfest tag-onion tag-services tag-speeds">
    <div class="post-inner">
        <span>Posted by: <a href="https://www.deepdotweb.com/author/americanguerrilla/" title="">American Guerrilla </a></span>
    <span>June 2, 2016</span>
    <span>in <a href="https://www.deepdotweb.com/category/deepdot-news/" rel="category tag">Featured</a>, <a href="https://www.deepdotweb.com/category/news-updates/" rel="category tag">News Updates</a></span>
    <span><a href="https://www.deepdotweb.com/2016/06/02/hackfest-speeds-development-next-generation-onion-services/#comments">1 Comment</a></span>
    </p>
    <div class="clear"></div>
    
    <p>A blog post on the Tor site said that a couple of weeks ago, Tor dev.’s got together and worked on nothing but onion services for an entire 7 days.</p>
    <p>“The event was very rewarding and we wrote this blog post to share with you how we spent our week!” the post read.</p>
    <p><a href="https://blog.torproject.org/blog/mission-montreal-building-next-generation-onion-services">This is Tor&#8217;s second &#8216;onion hackfest&#8217;</a>. The last being legendary Arlington Accords in July of 2015. Tor has been working on Proposal 224; or, Next Generation Onion Services for the past couple months and this week long meeting was to help get them ahead with the developments.</p>
    <p>“It is extremely helpful to meet and work together in the same physical area as we hammer out open issues, review each other’s code, and quickly make development decisions that would take days to coordinate through mailing lists. During hackfest we did tons of work. Here is an incomplete list of the things we did:</p>
    <p><a href="https://blog.torproject.org/blog/hidden-service-hackfest-arlington-accords">In our previous hidden service hackfest</a>, we started designing <a href="https://gitweb.torproject.org/torspec.git/tree/proposals/250-commit-reveal-consensus.txt">a system for </a><a href="https://gitweb.torproject.org/torspec.git/tree/proposals/250-commit-reveal-consensus.txt"><em>distributed random number</em></a><a href="https://gitweb.torproject.org/torspec.git/tree/proposals/250-commit-reveal-consensus.txt"> generation on the Tor network</a>. A <em>&#8220;distributed random number generator </em>“is a system where multiple computers collaborate and generate a single random number in a way that nobody could have predicted in advance (not even themselves). Such a system will be used by next generation onion services to inject unpredictability into the system and enhance their security.</p>
    <p>Tor developers finished implementing the protocol several months ago, and since then we&#8217;ve been reviewing, auditing, and testing the code.</p>
    <p>As far as we know, a distributed random generation system like this has never been deployed before on the Internet. It&#8217;s a complex system with multiple protocol phases that involves many computers working together in perfect synergy. To give you an idea of the complexity, here are the hackfest notes of a developer suggesting a design improvement to the system,” The anonymous Tor developer wrote.</p>
    <p><a href="/imgs/2016/06/hiddenservice.png"><img class="aligncenter size-full wp-image-14367" src="/imgs/2016/06/hiddenservice.png" alt="hiddenservice" width="778" height="525" srcset="/imgs/2016/06/hiddenservice.png 778w, /imgs/2016/06/hiddenservice-300x202.png 300w, /imgs/2016/06/hiddenservice-290x195.png 290w" sizes="(max-width: 778px) 100vw, 778px" /></a></p>
    <p>Onion service developers have tested this system, by creating fake small virtual Tor networks on their own laptops and testing it to insure it works. It was agreed however, that the basic tests are not enough to properly examine an advanced network like this.</p>
    <p>“To really test something like this we need to make a Tor network that works exactly like the real Tor network. It should be a real distributed network over the Internet, and not a virtual thing that lives on a single laptop,” the dev wrote.</p>
    <p>That&#8217;s what the Montreal hackfest was intended for. Each dev opened up themselves a Tor node, enabled &#8216;distributed random number generation&#8217; and had Tor nodes all over the globe. They had made a private network, just for themselves. It allowed them to test 11 separate Tor nodes that were all performing the random number generation protocol for seven days.</p>
    <p>“This allowed us to test scenarios that could make the protocol burp and fail in unpredictable ways. For example, we instructed our testing Tor nodes to abort at crucial protocol moments, and come back in the worst times possible, just to stress the system. We had our nodes run ancient versions of Tor perform random chaotic behaviors, disappear and never come back, etc.,” the Tor developer goes on.</p>
    <p>All this helped them find bugs and edge cases. It also confirmed that the system can make it through a network failure that actually does happen on the internet. Tor plans on keeping the testing network live and urges more people to help with it.</p>
    <p>According to the post, they also working on improving the design of next generation onion services by improving the clarity of the specification of proposal 224 and fixed its inconsistencies and errors in the text. They also designed improvements to the onion service descriptor download logic of proposal 224 and ways to improve the shared randomness protocol in the future.</p>
    <p>“We discussed ways to improve the user experience of the 55-character-long onion addresses for next generation onion services (compared to the 16-character-long onion addresses used currently). While no concrete design has been specified yet, we identified the need for a checksum and version field on them. We also discussed modifications to the Tor Browser Bundle that could improve the user experience of long onion addresses,” the post said.</p>
    <p>Tor plans to keep the current onion service system for now. When the proposal is launched, they will be able to handle both onion services, current and next generation.</p>
    </div>
    <span style="display:none"><a href="https://www.deepdotweb.com/tag/development/" rel="tag">development</a> <a href="https://www.deepdotweb.com/tag/generation/" rel="tag">generation</a> <a href="https://www.deepdotweb.com/tag/hackfest/" rel="tag">hackfest</a> <a href="https://www.deepdotweb.com/tag/onion/" rel="tag">onion</a> <a href="https://www.deepdotweb.com/tag/services/" rel="tag">services</a> <a href="https://www.deepdotweb.com/tag/speeds/" rel="tag">speeds</a></span> <span style="display:none" class="updated">2016-06-02</span>
    <div style="display:none" class="vcard author" itemprop="author" itemscope itemtype="http://schema.org/Person"><strong class="fn" itemprop="name"><a href="https://www.deepdotweb.com/author/americanguerrilla/" title="Posts by American Guerrilla" rel="author">American Guerrilla</a></strong></div>
    </div>
</article>

