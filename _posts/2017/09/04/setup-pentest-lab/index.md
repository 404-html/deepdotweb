---
How To Setup Your Own Pentest Lab
---
<article class="post-listing post-22346 post type-post status-publish format-standard has-post-thumbnail hentry category-deepdot-news tag-lab tag-pentest tag-setup">
    
    <div class="post-inner">
    
    
    <p class="post-meta">
    
    <span>Posted by: <a href="https://www.deepdotweb.com/author/theinnocent/" title="">TheInnocent </a></span>
    
    
    <span>September 4, 2017</span>
    
    
    <span><a href="https://www.deepdotweb.com/2017/09/04/setup-pentest-lab/#comments">1 Comment</a></span>
    </p>
    <div class="clear"></div>
    
    <div class="entry">
    
    <p>Are you an aspiring penetration tester, or a wannabe hacker? You started from the basics, querying google with a few simple words: hacking, hacker, how to be a hacker&#8230;then you found a lot of stupid tutorials that taught you how to hack your neighbour’s wpa with a network adapter called alfa awus036h (but didn’t work, did it ?) and finally you ended up in some damn forum where people talk your head off about about malwares, botnets, exploits and bitcoins. You asked trivial questions, and the answers were not kind but after some time you really started to understand how the bigger picture looks. You didn’t give up, you found books, courses, a cool site called DeepDotWeb and at the end of the run, you were proud to say that you know how to be a hacker. But are you a <a href="https://www.deepdotweb.com/2017/08/18/ghost-telephonist-allows-hackers-make-calls-texts-phone-number/">hacker</a>? No&#8230;not yet. You know things, you generally understand the framework but you need training. The most intensive kind of training and the only thing that you can do to improve your skills is hacking. Really. Do you want to end up in jail? No, of course, so it is far better to build your own <a href="https://www.deepdotweb.com/2017/07/07/the-penetration-testers-career/">pentest</a> lab, so that you can hack without doing anything illegal (there’s so much time for that after…).<img class="wp-image-22350" src="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-1.png" srcset="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-1.png 2500w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-1-300x115.png 300w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-1-1024x394.png 1024w" sizes="(max-width: 2500px) 100vw, 2500px" /></p>
    <h2>Your Options</h2>
    <p>You can install Metasploitable, of course. Metasploitable is a purposely vulnerable operating system looking as a terminal in your virtualbox (it does not have a graphical interface), created by the developers of the Metasploit framework. Nevertheless, this is not a tutorial about Metasploitable, so I will show you another way. We will download several operating system images, install them in our Virtual Box and connect them through a software called pfSense.</p>
    <h2>pfSense</h2>
    <p>pfSense is an open source firewall for enterprises, created to replace many commercial firewalls. From the pfSense’s site:</p>
    <p><em>“The pfSense project is a free network firewall distribution, based on the FreeBSD operating system with a custom kernel and including third party free software packages for additional functionality. pfSense software, with the help of the package system, is able to provide the same functionality or more of common commercial firewalls, without any of the artificial limitations. It has successfully replaced every big name commercial firewall you can imagine in numerous installations around the world, including Check Point, Cisco PIX, Cisco ASA, Juniper, Sonicwall, Netgear, Watchguard, Astaro, and more.</em></p>
    <p><em>pfSense software includes a web interface for the configuration of all included components. There is no need for any UNIX knowledge, no need to use the command line for anything, and no need to ever manually edit any rule sets. Users familiar with commercial firewalls catch on to the web interface quickly, though there can be a learning curve for users not familiar with commercial-grade firewalls.”</em></p>
    <ul>
    <li>Download the pfSense <a href="https://nyifiles.pfsense.org/mirror/downloads/pfSense-CE-2.3.4-RELEASE-i386.iso.gz">iso</a></li>
    <li>Extract it</li>
    <li>Create the virtual machine for pfSense</li>
    </ul>
    <p><img class="wp-image-22351" src="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-2.png" srcset="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-2.png 1100w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-2-300x152.png 300w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-2-1024x519.png 1024w" sizes="(max-width: 1100px) 100vw, 1100px" /> <img class="wp-image-22352" src="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-3.png" srcset="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-3.png 911w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-3-300x171.png 300w" sizes="(max-width: 911px) 100vw, 911px" /></p>
    <p>Choose the correct amount of memory:</p>
    <p><img class="wp-image-22353" src="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-4.png" srcset="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-4.png 1061w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-4-300x142.png 300w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-4-1024x485.png 1024w" sizes="(max-width: 1061px) 100vw, 1061px" /></p>
    <p>Set the processor features:</p>
    <p><img class="wp-image-22354" src="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-5.png" srcset="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-5.png 1029w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-5-300x148.png 300w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-5-1024x507.png 1024w" sizes="(max-width: 1029px) 100vw, 1029px" /></p>
    <p>And here we have the most important feature: you have to enable two different network adapters, one bridged and one for internal networks in order to make your firewall work properly.</p>
    <p><img class="wp-image-22355" src="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-6.png" srcset="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-6.png 1063w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-6-300x141.png 300w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-6-1024x482.png 1024w" sizes="(max-width: 1063px) 100vw, 1063px" /></p>
    <p><img class="wp-image-22356" src="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-7.png" srcset="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-7.png 1079w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-7-300x140.png 300w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-7-1024x477.png 1024w" sizes="(max-width: 1079px) 100vw, 1079px" /></p>
    <p>Now click on “ok” and then you can finally start your virtual machine with pfSense: <img class="wp-image-22358" src="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-8.png" srcset="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-8.png 720w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-8-300x167.png 300w" sizes="(max-width: 720px) 100vw, 720px" /></p>
    <p>Click on “Accept these settings”:</p>
    <p><img class="wp-image-22359" src="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-9.png" srcset="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-9.png 1069w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-9-300x145.png 300w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-9-1024x494.png 1024w" sizes="(max-width: 1069px) 100vw, 1069px" /></p>
    <p>And then press “Quick easy install”:</p>
    <p><img class="wp-image-22360" src="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-10.png" srcset="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-10.png 997w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-10-300x156.png 300w" sizes="(max-width: 997px) 100vw, 997px" /></p>
    <p>After pressing “Ok” on the easy install confirmation, the installation process will start. This will take a few time, depending on your hardware. <img class="wp-image-22362" src="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-11.png" srcset="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-11.png 1026w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-11-300x158.png 300w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-11-1024x540.png 1024w" sizes="(max-width: 1026px) 100vw, 1026px" /></p>
    <p><img class="wp-image-22364" src="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-12.png" srcset="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-12.png 901w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-12-300x199.png 300w" sizes="(max-width: 901px) 100vw, 901px" /></p>
    <p>Select “standard kernel”:</p>
    <p><img class="wp-image-22365" src="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-13.png" srcset="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-13.png 909w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-13-300x185.png 300w" sizes="(max-width: 909px) 100vw, 909px" /></p>
    <p>Now pay attention, suddenly after having pressed “reboot”, click on the “device” menu on your virtual-box and eject the installation drive or the process of installation will restart from the beginning:</p>
    <p><img class="wp-image-22366" src="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-14.png" srcset="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-14.png 913w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-14-300x184.png 300w" sizes="(max-width: 913px) 100vw, 913px" /></p>
    <p>After this process, you will see the main menu of psSense. You will see that the names of the main two network interfaces you created are shown with the respective IPs at their side. You will notice that em0 is your wan interface, while em1 is usually the LAN one. If you want to change the IPs range of these two interfaces you can select the option number 2 and you’ll be asked to assign the IPs through DHCP or manually. You’ll also be asked to change from https to http but clearly it would be an execrable idea. Once you’re done with this procedure, you can access the web Configurator from your browser following the IP of your LAN interface. From this point you’ll be able to change every aspect of your firewall using an easy and intuitive graphical interface.</p>
    <p><img class="wp-image-22367" src="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-15.png" srcset="https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-15.png 908w, https://www.deepdotweb.com/wp-content/uploads/2017/09/word-image-15-300x171.png 300w" sizes="(max-width: 908px) 100vw, 908px" /></p>
    <h2>Installing the Operating Systems</h2>
    <p>Now that you have the software that allows you to connect your machines, you can start to download and install every kind of operating system. I strongly recommend setting up different OSs, with different features (e.g. open ports, services ecc) enabled so that you can recreate a more realistic network environment. The following is a list of many interesting download links you can follow to get a few useful OSs&#8230;Happy hacking !!!</p>
    <p><a href="https://mega.nz/#!NQ8wHZSJ!p7ZT1AJpR8KToSJE_tOmDsPtS8eWWjJ_NBFe7bK5qRg">Mac OS X VMDK by Niresh</a></p>
    <p><a href="https://www.microsoft.com/en-us/evalcenter/evaluate-windows-server-2012-r2">Windows Server R 2012</a></p>
    <p><a href="https://www.ubuntu.com/download/desktop">Ubuntu 16.04.3 LTS</a></p>
    <p><a href="https://www.kali.org/downloads/">Kali Linux 2.0</a></p>
    
    
    </div><!-- .entry /-->
    <span style="display:none"><a href="https://www.deepdotweb.com/tag/lab/" rel="tag">lab</a> <a href="https://www.deepdotweb.com/tag/pentest/" rel="tag">pentest</a> <a href="https://www.deepdotweb.com/tag/setup/" rel="tag">setup</a></span>				<span style="display:none" class="updated">2017-09-04</span>
    <div style="display:none" class="vcard author" itemprop="author" itemscope itemtype="http://schema.org/Person"><strong class="fn" itemprop="name"><a href="https://www.deepdotweb.com/author/theinnocent/" title="Posts by TheInnocent" rel="author">TheInnocent</a></strong></div>
    
    
    </div><!-- .post-inner -->
</article><!-- .post-listing -->

